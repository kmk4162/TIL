# âš™ï¸Django CRUD íë¦„ ì •ë¦¬

## 1. ê°€ìƒí™˜ê²½ ë° Django ì„¤ì¹˜

### 1-1 ê°€ìƒí™˜ê²½ ìƒì„± ë° ì‹¤í–‰

- ê°€ìƒí™˜ê²½ í´ë”ë¥¼ `.gitignore`ë¡œ ì„¤ì •ì„ í•´ë‘”ë‹¤.

```
$ python -m venv venv
$ source venv/Scripts/activate
(venv) $
```

### 1-2 Django ì„¤ì¹˜ ë° ê¸°ë¡

```
$ pip install django==3.2.13
$ pip freeze > requirements.txt
```

### 1-3 Django í”„ë¡œì íŠ¸ ìƒì„±

```
$ django-admin startproject pjt .
```

<br>

## 2. articles app

### 2-1 app ìƒì„±

```django
python manage.py startapp articles .
```

### 2-2 app ë“±ë¡

settings.pyì— ê°€ì„œ INSTALLED_APPS ë¦¬ìŠ¤íŠ¸ ìµœìƒë‹¨ì— apps ì´ë¦„(articles)ë¥¼ ì‘ì„± 

### 2-3 urls.py ì„¤ì •

![image-20221004152121613](README.assets/image-20221004152121613.png)

![image-20221004152053597](README.assets/image-20221004152053597.png)

> articlesì˜ urls.pyì—ëŠ” ê¸°ë³¸ í˜ì´ì§€ë¥¼ index í•¨ìˆ˜ë¡œ ì„¤ì •í•˜ê³ , app_nameì„ ì§€ì •í•´ì¤Œ
>
> ì´ê±¸ ì´ìš©í•´ì„œ ì „ì²´ pjtì˜ urls.pyì— ê°€ì„œ includeë¥¼ í™œìš©í•´ì„œ articlesì˜ urlë§Œ ë”°ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ì„¤ì •

<br>

## 3. Model ì •ì˜ (DB ì„¤ê³„)

### 3-1 í´ë˜ìŠ¤ ì •ì˜

![image-20221004153322513](README.assets/image-20221004153322513.png)

> ì œëª©, ë‚´ìš©, ì‘ì„±ì‹œê°„, ìˆ˜ì •ì‹œê°„ì´ í•„ìš”í•˜ê³  ê°ê° ì•Œë§ëŠ” fieldì™€ ì¡°ê±´ë“¤ì„ ì¶”ê°€

### 3-2 ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±

```
python manage.py makemigrations
```

### 3-3 DB ë°˜ì˜(`migrate`)

```
python manage.py migrate
```

<br>

## 4. CRUD ê¸°ëŠ¥ êµ¬í˜„

### 4-1 ê²Œì‹œê¸€ ìƒì„±

> ì‚¬ìš©ìì—ê²Œ HTML Form ì œê³µ, ì…ë ¥ë°›ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬ (ModelForm ë¡œì§ìœ¼ë¡œ ë³€ê²½)

#### 1. HTML Form ì œê³µ

> http://127.0.0.1:8000/articles/new/

#### 2. ì…ë ¥ë°›ì€ ë°ì´í„° ì²˜ë¦¬

> http://127.0.0.1:8000/articles/create/

> ê²Œì‹œê¸€ DBì— ìƒì„±í•˜ê³  index í˜ì´ì§€ë¡œ redirect

---

ì¼ë‹¨ create í•¨ìˆ˜ ë¨¼ì € ë§Œë“¤ê¸°

![image-20221004161856242](README.assets/image-20221004161856242-16648679374511.png)

![image-20221004161945236](README.assets/image-20221004161945236.png)

![image-20221004162002527](README.assets/image-20221004162002527.png)

> index.html í˜ì´ì§€ì—ì„œ `ìƒˆ ê¸€ ì‘ì„±`ì„ ëˆ„ë¥´ë©´ a íƒœê·¸ì— ì˜í•´ new.html í˜ì´ì§€ë¡œ ì´ë™
>
> new.htmlì€ actionì´ create.htmlì¸ form í˜•ì‹ì´ ì¡´ì¬í•˜ê³  submitì„ í•˜ë©´ create í•¨ìˆ˜ì— ì˜í•´ title, contentë¥¼ ê°€ì ¸ì™€ì„œ Article í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ create í•œ í›„ index.htmlë¡œ redirectë¥¼ í•˜ëŠ” ë°©ì‹

<br>

### 4-2 ê²Œì‹œê¸€ ëª©ë¡

> DBì—ì„œ ê²Œì‹œê¸€ì„ ê°€ì ¸ì™€ì„œ, templateì— ì „ë‹¬

index.htmlì— ë°˜ë³µë¬¸ì„ í™œìš©í•´ì„œ ì „ì²´ DB ë°ì´í„°ë¥¼ ë³´ì´ê²Œí•˜ê¸°

create í•¨ìˆ˜ë¥¼ í†µí•´ ë°ì´í„°ê°€ ì‘ì„±ë ë•Œë§ˆë‹¤ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼í•¨

ë”°ë¼ì„œ indexí•¨ìˆ˜ì—ì„œ getì„ ì²˜ë¦¬í•´ì¤˜ì•¼í•¨

![image-20221004164535611](README.assets/image-20221004164535611.png)

![image-20221004164546928](README.assets/image-20221004164546928.png)

> ë©”ì¸ í˜ì´ì§€ëŠ” index.htmlì¸ë° ì—¬ê¸°ì„œ ë³´ì´ê²Œ í•´ì•¼í•˜ë¯€ë¡œ index í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ì•¼í•¨
>
> Article.objects.all()ë¥¼ ì´ìš©í•´ì„œ ë°ì´í„° ì „ë¶€ë¥¼ ê°€ì ¸ì˜¤ê³  pkì˜ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ì„ í•´ì¤Œ
>
> ê·¸ ë‹¤ìŒ context ë”•ì…”ë„ˆë¦¬ì— ë‚´ìš© ì „ë¶€ë¥¼ ë‹´ê³  render ì‹œ ë°ì´í„°ë¥¼ í•¨ê»˜ ë„£ì–´ì¤Œ
>
> index í•¨ìˆ˜ ì‹¤í–‰ìœ¼ë¡œ ì¸í•´ renderê°€ ë˜ë©´ index.htmlì˜ ë°˜ë³µë¬¸ì´ ì‘ë™í•˜ê³ , articlesì— ëŒ€í•´ ë°˜ë³µë¬¸ì„ ëŒë ¤ì£¼ë©´ì„œ ë°ì´í„° í•˜ë‚˜í•˜ë‚˜ë¥¼ ê·¸ëŒ€ë¡œ ì¶œë ¥í•´ì£¼ëŠ” í˜•íƒœ

<img src="README.assets/create & ëª©ë¡ ë³´ê¸°.gif" alt="create & ëª©ë¡ ë³´ê¸°" style="zoom:80%;" />

<br>

### â­ ì´ì   ê²Œì‹œê¸€ ìƒì„±ì„ GETì—ì„œ POSTë¡œ!!

ë§Œì•½ createí•¨ìˆ˜ê°€ ë¡œê·¸ì¸ ì‹œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ëŠ” í˜•íƒœë¼ë©´?

![image-20221004170440732](README.assets/image-20221004170440732.png)

> ì…ë ¥í•œ idì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ê³ ìŠ¤ë€íˆ ê¸°ë¡ì— ë‚¨ìŒ
>
> ì´ë ‡ê²Œ ë˜ë©´ ë³´ì•ˆì— ë‹¹ì—°íˆ ë¬¸ì œê°€ ìƒê¸°ê¸° ë•Œë¬¸ì— ìš°ë¦¬ëŠ” ì´ ë‚´ì—­ì„ ìˆ¨ê¸°ëŠ” í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì•„ì•¼í•¨

![image-20221004171053967](README.assets/image-20221004171053967.png)

formì˜ methodë¥¼ ì¶”ê°€í•˜ë©´ `POST ë°©ì‹ìœ¼ë¡œ createë¡œ ë³´ë‚¼ê²Œ` ë¼ëŠ” ëœ»ì¸ë° ê·¸ëŒ€ë¡œ ì“°ë©´?

![image-20221004171042876](README.assets/image-20221004171042876.png)

ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ëœ¸ ğŸ‘‰ CSRF ê²€ì¦ì— ì‹¤íŒ¨í•¨

> CSRFë€?
>
> ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì—ì„œ ìœ ì €ê°€ ë³´ë‚´ëŠ” ìš”ì²­ì„ ì¡°ì‘í•˜ëŠ” **ê³µê²©**. ì˜ˆì‹œë¡œëŠ” ì´ë©”ì¼ì— ì²¨ë¶€ëœ ë§í¬ë¥¼ ëˆ„ë¥´ë©´ ë‚´ ì€í–‰ê³„ì¢Œì˜ ëˆì´ ë¹ ì ¸ë‚˜ê°€ëŠ” ë°©ì‹ì˜ í•´í‚¹ ë“±ì´ ìˆìŒ
> íšŒì›ê°€ì…ì‹œ í˜ì´ì§€ë¥¼ ë°”ê¿”ì¹˜ê¸° í•˜ëŠ”ë“±ì˜ ë°©ë²•ìœ¼ë¡œ í•´í‚¹ì„ í•˜ê¸°ë„ í•˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•œê²ƒì´ CSRF í† í°ì´ë‹¤
>
> ì´ë¥¼ ë§‰ê¸° ìœ„í•´ form íƒœê·¸ ì•ˆì— `{% csrf_token %}`ë¥¼ ë„£ì–´ì•¼í•¨!!
>
> ë§Œì•½ ìœ íš¨í•˜ì§€ ì•Šì€ ìš”ì²­ì´ë¼ë©´(token ê°’ì´ ì—†ê±°ë‚˜ ì˜ëª»ëœ ê²½ìš°) 403 Forbidden Responseë¥¼ ë°˜í™˜
>
> <img src="https://velog.velcdn.com/images/jupiter-j/post/4e9835dd-dfc0-4baf-a8b1-223ab3b0b197/image.png" alt="img" style="zoom:67%;" />

ì´ëŒ€ë¡œ ì‘ì„±í•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ì´ë²ˆì—ëŠ” ë‹¤ë¥¸ ì—ëŸ¬ê°€ ëœ¬ë‹¤

![image-20221004172245917](README.assets/image-20221004172245917.png)

![image-20221004172521867](README.assets/image-20221004172521867.png)

> ìš”ì²­ë°›ëŠ” ë°ì´í„°ì˜ í˜•ì‹ì´ ë‹¬ë¼ì¡Œê¸° ë•Œë¬¸ì— ê·¸ëŸ¼
>
> POSTì˜ ìš”ì²­ì„ ë°›ëŠ”ë° ì •ì‘ viewsì˜ create í•¨ìˆ˜ëŠ” ì—¬ì „íˆ ê¸°ì¡´ì˜ GET ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°›ê³  ìˆì–´ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒ

![image-20221004172735690](README.assets/image-20221004172735690.png)

![image-20221004172802786](README.assets/image-20221004172802786.png)

ì´ì „ê³¼ ë‹¬ë¦¬ titleê³¼ contentì˜ ë‚´ìš©ì´ ë³´ì´ì§€ ì•Šê²Œ ì „ì†¡ì´ ëœë‹¤!!

> **GETì€ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ê³  POSTëŠ” ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë‹¤!**
>
> `GET`ì€ ì„œë²„ì—ì„œ ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ë³´ì—¬ì¤€ë‹¤ê±°ë‚˜ í•˜ëŠ” ìš©ë„ì´ì§€ ì„œë²„ì˜ ê°’ì´ë‚˜ ìƒíƒœë“±ì„ ë°”ê¾¸ì§€ ì•ŠìŒ. ê²Œì‹œíŒì˜ ë¦¬ìŠ¤íŠ¸ë¼ë˜ì§€ ê¸€ë³´ê¸° ê¸°ëŠ¥ ê°™ì€ ê²ƒì´ ì´ì— í•´ë‹¹
>
> ë°˜ë©´ì— `POST`ëŠ” ì„œë²„ì˜ ê°’ì´ë‚˜ ìƒíƒœë¥¼ ë°”ê¾¸ê¸° ìœ„í•´ì„œ ì‚¬ìš©. ê¸€ì“°ê¸°ë¥¼ í•˜ë©´ ê¸€ì˜ ë‚´ìš©ì´ ë””ë¹„ì— ì €ì¥ì´ ë˜ê³  ìˆ˜ì •ì„ í•˜ë©´ ë””ë¹„ê°’ì´ ìˆ˜ì •ì´ ë˜ëŠ” ê²½ìš°ì— ì‚¬ìš©
>
> â—ì´ ë‘˜ì˜ ì°¨ì´ë¥¼ ì˜ ì¸ì§€í•˜ì

<br>

### â­ Django ModelForm í™œìš©í•˜ê¸°

ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ê³¼ DBì˜ ë°ì´í„° í˜•ì‹ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” `ìœ íš¨ì„± ê²€ì¦`ì´ ë°˜ë“œì‹œ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì´ì „ê³¼ ë‹¤ë¥´ê²Œ ModelFormì„ ì‚¬ìš©í•´ì•¼í•¨!

![image-20221004204736310](README.assets/image-20221004204736310.png)

ModelFormì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„˜ê²¨ì¤˜ì„œ ì´ì „ inputì˜ formíƒœê·¸ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆìŒ!

![image-20221004205447802](README.assets/image-20221004205447802.png)

![image-20221004205508089](README.assets/image-20221004205508089.png)

![image-20221004205548906](README.assets/image-20221004205548906.png)

> new í•¨ìˆ˜ì—ì„œ ì´ì œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  contextë¡œ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ê³ , new.htmlì—ì„œëŠ” ì´ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ {{ article_form.as_p }}ë¥¼ ì“°ë©´ ê¸°ì¡´ì˜ ê¸´ form íƒœê·¸ ì½”ë“œë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆìŒ(ìœ„ê°€ ModelForm í™œìš©)

ì´ì œ ìœ íš¨ì„± ê²€ì¦(validation)ì„ ìœ„í•´ì„œ create í•¨ìˆ˜ë¥¼ ê¸°ì¡´ ë°©ì‹ì—ì„œ ë°”ê¿”ì¤˜ì•¼í•¨

![image-20221004212241045](README.assets/image-20221004212241045.png)

> article_form ìì²´ë¥¼ `request.POST`ë¡œ ê°€ì§€ê³  ì˜¨ ë‹¤ìŒ `.is_valid()`ì„ ì¨ì„œ ìœ íš¨í•œì§€ íŒë‹¨í•˜ê³  ìœ íš¨í•˜ë©´ ì €ì¥ì„, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¬¸ì¥ì„ ì¶œë ¥í•˜ê²Œ í•¨
>
> <img src="README.assets/image-20221004212353742.png" alt="image-20221004212353742" style="zoom:80%;" />
>
> ì•„ë¬´ê²ƒë„ ì…ë ¥í•˜ì§€ ì•Šì€ ì±„ ì œì¶œí•˜ë ¤í•˜ë©´ ìë™ìœ¼ë¡œ `required` ì„¤ì •ì´ ë“¤ì–´ê°€ìˆìŒ
>
> ê°œë°œì ë„êµ¬ë¥¼ ì´ìš©í•´ì„œ textareaì˜ required ë¶€ë¶„ì„ ì‚­ì œí•˜ê³  ê°•ì œë¡œ ì œì¶œí•˜ë©´ redirectëŠ” ì‹¤í–‰ë˜ì§€ë§Œ
>
> ![image-20221004212641375](README.assets/image-20221004212641375.png)
>
> ìœ íš¨í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— else ì¡°ê±´ì— ì˜í•´ ë¬¸ì¥ì´ ì¶œë ¥ì´ ë¨

ì´ì œ if-elseë¬¸ì„ í™œìš©í•´ì„œ ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ì´ ë“¤ì–´ì˜¤ë©´ ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ í•´ì¤˜ì•¼ í•˜ëŠ”ê°€?

![image-20221005014823020](README.assets/image-20221005014823020.png)

> ìœ íš¨í•˜ì§€ ì•Šì„ ë•ŒëŠ” ê·¸ ê°’ì„ ê°€ì§€ê³  ê·¸ëŒ€ë¡œ returnì„ í•´ì£¼ëŠ” ë°©ì‹ì„ ì‚¬ìš©

ê·¸ëŸ°ë° createë¥¼ ì´ë ‡ê²Œ ë§Œë“¤ê³  ë‚˜ë‹ˆ new í•¨ìˆ˜ì™€ ë§¤ìš° ìœ ì‚¬í•¨ì„ ì•Œ ìˆ˜ ìˆìŒ

ğŸ‘‰ newì™€ createë¥¼ í•˜ë‚˜ë¡œ í•©ì¹  ìˆ˜ê°€ ìˆìŒ!

![image-20221005015317813](README.assets/image-20221005015317813.png)

> newë¥¼ ì—†ì• ê³  createì— í•©ì¹¨
>
> requestì˜ ìš”ì²­ì´ POSTë©´ DBì— ì €ì¥ì„ í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ìœ íš¨í•œì§€ ì•„ë‹Œì§€ë¥¼ ë”°ì§„ í›„ ì €ì¥ì„ í•˜ëŠ” ê¸°ì¡´ì˜ create í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ ë˜ê³ ,
>
> ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°(GET ìš”ì²­)ì—ëŠ” ê¸°ì¡´ì˜ new í•¨ìˆ˜ê°€ ì‹¤í–‰ì´ ë˜ë„ë¡ í•˜ëŠ”ê²ƒ! (index.htmlì—ì„œ ì‘ì„±ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œì´ê³ , ë¹ˆ form ìƒì„± í›„ formì„ contextì— ë‹´ì•„ì„œ ë°˜í™˜)
>
> â—ê¸°ì¡´ì— ì“°ë˜ new ê²½ë¡œëŠ” createë¡œ ë‹¤ ë°”ê¿”ì¤˜ì•¼í•¨

<br>

### 4-3 ìƒì„¸ë³´ê¸°

> íŠ¹ì •í•œ ê¸€ì„ ë³¸ë‹¤.

> http://127.0.0.1:8000/articles/int:pk/

í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ íŠ¹ì •í•˜ë ¤ë©´ ìœ ì¼í•œ ê°’ì„ ì´ìš©í•´ì„œ êµ¬ë³„í•  ìˆ˜ ìˆì–´ì•¼í•¨ ê·¸ê²ƒì´ ë°”ë¡œ pk!

```python
def detail(request, pk):
    article = Article.objects.get(pk = pk)
    context = {
        'article' : article,
    }
    return render(request, 'articles/detail.html', context)
```

```html
<p>{{ article.pk }}ë²ˆ ê²Œì‹œê¸€</p>
<p>ì œëª©: {{ article.title }} ë‚´ìš©: {{ article.content }}</p>
<p>ì‘ì„±ì¼ì: {{ article.created_at.month }}ì›” {{ article.created_at.day }}ì¼
   ìˆ˜ì •ì¼ì: {{ article.updated_at.month }}ì›” {{ article.updated_at.day }}ì¼
</p>
```

>  pkë¡œ ê°’ì„ ë“¤ê³ ì™€ì„œ contextì— ë‚´ìš©ì„ ë‹¤ ë‹´ê³  detail.html í˜ì´ì§€ë¡œ return
>
> ![image-20221005023219182](README.assets/image-20221005023219182.png)

<br>

### 4-4 ì‚­ì œí•˜ê¸°

> íŠ¹ì •í•œ ê¸€ì„ ì‚­ì œí•œë‹¤.

> http://127.0.0.1:8000/articles/int:pk/delete/

```python
def delete(request, pk):
    article = Article.objects.get(pk = pk)
    article.delete()
    return redirect('articles:index')
```

> ì‚­ì œëŠ” getìœ¼ë¡œ ê°€ì ¸ì˜¨ ë’¤ ì‚­ì œí•˜ê³  ê·¸ ì •ë³´ë¥¼ ë°˜ì˜í•˜ê³  index.htmlì„ redirectë§Œ í•´ì£¼ë©´ ë¨

<br>

### 4-5 ìˆ˜ì •í•˜ê¸°

> íŠ¹ì •í•œ ê¸€ì„ ìˆ˜ì •í•œë‹¤. => ì‚¬ìš©ìì—ê²Œ ìˆ˜ì •í•  ìˆ˜ ì–‘ì‹ì„ ì œê³µí•˜ê³ (GET) íŠ¹ì •í•œ ê¸€ì„ ìˆ˜ì •í•œë‹¤.(POST)

> http://127.0.0.1:8000/articles/int:pk/update/

update.html íŒŒì¼ì„ ë§Œë“¤ê³  detail í˜ì´ì§€ì—ì„œ ìˆ˜ì • ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ë™í•˜ë„ë¡ í•¨

ê·¸ëŸ°ë° ë¬¸ì œëŠ” ìˆ˜ì •í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë¹ˆ formê°’ìœ¼ë¡œ í•­ìƒ ì´ˆê¸°í™”ê°€ ë¨

ì§§ì€ ê¸€ì´ë©´ ëª°ë¼ë„ ê¸´ ê¸€ì„ ìˆ˜ì •í•  ë•ŒëŠ” ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì³ì•¼í•˜ëŠ” ê³¤ë€í•¨ì´ ìˆìœ¼ë¯€ë¡œ ì´ì „ ì‚¬í•­ì´ ìœ ì§€ë˜ë©´ ì¢‹ê² ìŒ

```python
def update(request, pk):
    article = Article.objects.get(pk = pk)
    article_form = ArticleForm(instance = article)
    context = {
        'article_form' : article_form,
    }
    return render(request, 'articles/update.html', context)
```

> íŠ¹ì • pkì˜ ê°’ì„ articleì— ì €ì¥í•´ë‘ê³  ArticleFormìœ¼ë¡œ modelFormì„ í˜•ì„±í•œ instanceê°€ articleì´ë¼ê³  ì„¤ì •í•´ë‘ë©´ ê¸°ì¡´ ê°’ì´ ê·¸ëŒ€ë¡œ ì´ˆê¸°ê°’ì´ ë¨
>
> <img src="README.assets/image-20221005025552675.png" alt="image-20221005025552675" style="zoom:80%;" />

ì´ì œ ìˆ˜ì •í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¸ ë’¤ ë‹¤ì‹œ update í˜ì´ì§€ë¡œ ëŒì•„ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ POST ìš”ì²­ì¼ ë•Œ DBì— ìˆ˜ì •ëœ ê°’ì„ ë°˜ì˜í•˜ëŠ” ì‘ì—…ì„ í•´ì¤˜ì•¼í•¨

```python
def update(request, pk):
    # DBì—ì„œ pk ê°’ì´ ê°™ì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
    article = Article.objects.get(pk = pk)

    if request.method == 'POST':
        # POST : input ê°’ ê°€ì ¸ì™€ì„œ, ê²€ì¦í•˜ê³ , DBì— ì €ì¥
        article_form = ArticleForm(request.POST, instance = article)
        
        # ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼í•˜ë©´ ì €ì¥í•˜ê³  ìƒì„¸ë³´ê¸° í˜ì´ì§€ë¡œ
        if article_form.is_valid():
            article_form.save()
            return redirect('articles:detail', article.pk)

    # í†µê³¼ ëª»í•˜ë©´ í•´ë‹¹ pkì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ returní•œë‹¤.
    else:
        article_form = ArticleForm(instance = article)
    context = {
        'article' : article,
        'article_form' : article_form,
    }
    return render(request, 'articles/update.html', context)
```



